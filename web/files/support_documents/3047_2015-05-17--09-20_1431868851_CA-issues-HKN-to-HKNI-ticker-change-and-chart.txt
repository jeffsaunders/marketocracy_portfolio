date:   5/13/15
ticker:  HKN

yahoo:

quantum:
HKN, Inc.
Ticker Symbol: HKN     CUSIP: 40420K103     Exchange: AMEX

Company's Online Profile
BUSINESS:  HKN Inc. is engaged both in the development and production of crude oil, natural gas and coalbed methane assets. HKN’s crude oil and natural gas operations consist of development and production efforts in the United States, principally in the onshore and offshore Gulf Coast regions of South Texas and Louisiana, as well as coalbed methane exploration and development activities in Indiana and Ohio. As of December 31, 2010, it held 34% interest in Global Energy Development PLC, which was a petroleum exploration and production company focused on Latin America. During the year ended December 31, 2010,

Notes:  DALLAS, TX—(Marketwire - June 6, 2007) - HKN, Inc. (AMEX: HKN) today reported that its corporate name was officially changed from Harken Energy Corporation and that a one for 22.4 reverse split of its outstanding common stock became effective as of the opening of trading on June 6, 2007. The Company’s common stock symbol on the American Stock Exchange has changed from HEC to HKN. The changes were approved by the Company’s stockholders
Previous Ticker Symbol: HEC    Changed: 6/06/07
Previous Name: Harken Energy Corp.    Changed: 6/06/07
Micro Cap Stock -   Market Value $ 42.1 Million 

oursite:
Symbol: HKN 	Name: HKN Inc 	Price: $1.97
Volume: 	Sector: Energy 	Change:
Short Volume: 0 	Style: Micro Cap : Growth 	Market Cap:
Avg Volume: 0 	 Exchange: AMEX 	Today: 0.00%
50 Day Ave: $0.00 	Year High: $0.00 	High:
200 Day Ave: $0.00 	Year Low: $0.00 	Low:
CAs
 symbol changes for HKN 	right curve
  	  	
Effective Date 	Old Symbol 	New Symbol 	Description
06 Jun 07 	HEC 	HKN 	Change in the ticker (trading) symbol from HEC to HKN
  	  	 
left curve 	  CUSIP changes for HKN 	right curve
  	  	
Effective Date 	Old CUSIP 	New CUSIP 	Description
06 Jun 07 	412552309 	40420K103 	Change in any of identification numbers (CUSIP) of a security from 412552309 to 40420K103
  	  	 
left curve 	  name changes for HKN 	right curve
  	  	
Effective Date 	Old Name 	New Name 	Description
06 Jun 07 	Harken Energy Corp 	HKN Inc 	Change in the name of issuer from Harken Energy Corp to HKN Inc
  	  	 
left curve 	  HKN had some stock splits 	right curve
  	  	
Effective Date 	Terms 	Description
08 Nov 00 	0.1 	Split terms:0.1
06 Jun 07 	.0446 : 1 	Split terms:.0446 : 1

Xignite:

MAdmin  HKN  05/13/2015tock:HKN Inc  Symbol:HKN
Date: 05/13/2015

170 users found

1	acolton	adeeb	adpopulum	agger664	agvelenyi	aharyadi	alex1963	alexios4	alui	amandalc
2	apitzer	autounion	babdul	backtash	balbosa	baneasa	basia	bbtest2	bedens	ben.gent
3	benbrown182	bernwatson	bkalaf	bluffy	boogertwo	bostonenglish	bradcjohnston@gmail.com	bushes	cacwtc	caleb2422
4	captain63	carol_newell	casper3	cdc837	cdefranceschi	cgcrit	chartmaster	chih22	clifftone	cmnwrld
5	crazykartman	crossy	cschuyler	cussins	davidluke	deadalias	debitmgt	dkbellman	dkm2206	double_l
6	dvshucks	dw1	elanvcu	ericcofg	etalas	fanatic1@vip.hr	flajuie	flyinryan	foxy_professor33	gary_davis
7	genpitaly	gml	goldencross	gsilcott	gunanaman	hagai	heresiarch	herunsalot	iwatt001	jaime
8	jasonl36	jaylee	jcandler3	jdailey	jdrazdowski	jim3333	jimtracey	jlorber	jmorrnh	jselengut
9	jsgreenfield	jt3641	jtkiefer	jussey	jwm9	kadir	kbeta	kikola	kitrainee	klandragan
10	kmaksimovich	kurtislonepine	lcalvert	leb1981	leoskeys	lewtn	lifeandfamily	littlemookie	ljg567	lostwages
11	lou19	lsoon_fong1	lwroblewski	maae10	magicman	mariusz106	mat913	mcfadden2002	mikejones	mkantor
12	mmills	monsean	moreno770	mspiegel	mwgibbs	mxcont66	nagrim	natekane2001	njacoby	ocsupertones
13	oene	og2man	ozymandais	papavalium	peterabates	pul4895	razorweb	rserrell	samoward	sandspider
14	santholding	scllspirit	scooter202	sethpn	sheltim	skully	sloot	snorri44	snvempa2000	son454
15	stavinohal	stenz	stock_sniffer	stocksniffer	stocksniffer1	svan_buren	tahdog	taotu99	target	tas
16	tfreak	theanswer	theroo	thewhat	timmyd	tony_camean	trstockalerts	tyky	velt1	vinc_t
17	vooch	vooch5	willy	wink	wisesage5001	xboardfan1	yangsta05	zakik	zamsoc7	zpryor	 	 	 	 	 	 	 	 	 	 


database
select distinct stockkey from mstockalias where symbol= 'HKN';  
> Row 1:
>   STOCKKEY = X'15ab0e21390b0affc0a80116'

select * from mstockalias where stockkey= X'15ab0e21390b0affc0a80116';
> Row 1:
>   CAPSECTORKEY = NULL
>          CUSIP = 412552309
>           DATE = TIMESTAMP '2000-04-29 15:00:00.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HARKEN ENERGY CORP NEW
>     PRIMARYKEY = X'15ac0e21390b0affc0a80116'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HEC
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
> Row 2:
>   CAPSECTORKEY = NULL
>          CUSIP = 412552309
>           DATE = TIMESTAMP '2007-06-06 00:00:00.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HARKEN ENERGY CORP NEW
>     PRIMARYKEY = X'ebaf454246676728c0a80146'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HKN
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
> Row 3:
>   CAPSECTORKEY = NULL
>          CUSIP = 412552309
>           DATE = TIMESTAMP '2007-06-06 00:00:01.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HKN Inc
>     PRIMARYKEY = X'84cc454e46676762c0a80146'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HKN
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
> Row 4:
>   CAPSECTORKEY = NULL
>          CUSIP = 40420K103
>           DATE = TIMESTAMP '2007-06-06 00:00:02.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HKN Inc
>     PRIMARYKEY = X'5b03455346676775c0a80146'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HKN
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG

check for unapplied CAs in the database

select * from mcorporateaction where aliaskey is null and BB_SECID='HKN'  order by BB_EFFECTIVE;

nothing useful

last known price
/Marketocracy/bin/dbtool lookup stock HKN
>>>> dbtool started at 2015-05-14 00:08:07 -0400
stock: HKN
  PK       : [15AB0E21390B0AFFC0A80116]
  companyID: [5115]
  symbol   : [HKN]
  name     : [HARKEN ENERGY CORP NEW]
  date     : [2007-06-06 00:00:00]
  status   : [Active]
stock: HKN
  PK       : [15AB0E21390B0AFFC0A80116]
  companyID: [5115]
  symbol   : [HKN]
  name     : [HKN Inc]
  date     : [2007-06-06 00:00:01]
  status   : [Active]
stock: HKN
  PK       : [15AB0E21390B0AFFC0A80116]
  companyID: [5115]
  symbol   : [HKN]
  name     : [HKN Inc]
  date     : [2007-06-06 00:00:02]
  status   : [Active]
<<<< dbtool finished at 2015-05-14 00:08:08 -0400

/Marketocracy/bin/StockPriceFileChecker priceRunForCompanyID 5115
2012-10-21 (Sun) [4311]: <WEEKEND>
2012-10-22 (Mon) [4312]: O:2.0900 H:2.0900 L:2.0900 C:2.0900 V:5360 TSO:9596 A:2.0900 R:1.0000 CA:0.0000
2012-10-23 (Tue) [4313]: O:2.0600 H:2.0600 L:2.0600 C:2.0600 V:507 TSO:9596 A:2.0600 R:1.0000 CA:0.0000
2012-10-24 (Wed) [4314]: O:2.0600 H:2.0600 L:2.0600 C:2.0600 V:507 TSO:9596 A:2.0600 R:1.0000 CA:0.0000
2012-10-25 (Thu) [4315]: O:2.0000 H:2.0100 L:1.9900 C:2.0000 V:9799 TSO:9596 A:2.0000 R:1.0000 CA:0.0000
2012-10-26 (Fri) [4316]: O:1.9700 H:1.9800 L:1.9700 C:1.9700 V:900 TSO:9596 A:1.9700 R:1.0000 CA:0.0000
2012-10-27 (Sat) [4317]: <WEEKEND>
2012-10-28 (Sun) [4318]: <WEEKEND>
2012-10-29 (Mon) [4319]: <HOLIDAY>
2012-10-30 (Tue) [4320]: <HOLIDAY>
2012-10-31 (Wed) [4321]: O:1.9700 H:1.9700 L:1.9700 C:1.9700 V:900 TSO:9596 A:1.9700 R:1.0000 CA:0.0000


check the mtickets, look for the last filled one (with shares)
select * from mticket where stockkey =X'15ab0e21390b0affc0a80116' and shares > 0 order by closed; 
> Row 2251:
>      ACTIONKEY = X'70563ca1391e0270c0a8015c'
>      BROKERKEY = X'2916149b39cd02dbc0a80117'
>         CLOSED = TIMESTAMP '2012-10-18 15:01:00.000000'
>        COMMENT = 
>     COMMISSION = 100.000000
>   CURRENTORDER = X'a3af066a507d84ecc0a80134'
>        LIFEKEY = X'70953ca1391e0272c0a8015c'
>           LOCK = 0
>     MANAGERKEY = X'96b32b603b6f14b2c0a801e1'
>       MODIFIED = NULL
>            NET = 4123.760000
>         OPENED = TIMESTAMP '2012-10-16 12:01:48.000000'
>          PRICE = 2.061880
>     PRIMARYKEY = X'a3ad066a507d84ecc0a80134'
>         SECFEE = 0.000000
>         SHARES = 2000.000000
>      STATUSKEY = X'708f3ca1391e0272c0a8015c'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>      SOURCEKEY = NULL
>    NOTIFYEMAIL = NULL

last ticket 10/18/2012


apply the acquis
our last date and price :   2012-10-31 (Wed) [4321]: O:1.9700 H:1.9700 L:1.9700 C:1.9700 V:900 TSO:9596 A:1.9700 R:1.0000 CA:0.0000

last ticket: 10/16/2012 


Checked with Steve and he said that the ticker changed to HKNI on  20121031
Steve Mcnamee (5:51:19 am): ticker change 10/31/12 to HKNI

do we have this on our site?  we don't
how about mcorporateactions unapplied?
select distinct stockkey from mstockalias where symbol='HXNI';
  nothing
select * from mcorporateaction where aliaskey is null and BB_SECID='HKNI';
found some good info
ticker change
reverse split
cusip change

yahoo for HKNI:
HKN, Inc. (HKNI) -Other OTC
Watchlist
44.00 Up 1.50(3.53%) May 13, 1:00PM EDT
Pre-Market : NaN
Add to Portfolio
Prev Close:	42.50
Open:	N/A
Bid:	N/A
Ask:	N/A
1y Target Est:	N/A
Beta:	N/A
Next Earnings Date:	N/A
Day's Range:	N/A - N/A
52wk Range:	40.00 - 85.00
Volume:	0
Avg Vol (3m):	66
Market Cap:	17.20M
P/E (ttm):	N/A
EPS (ttm):	-61.09
Div & Yield:	N/A (N/A)

Yahoo lists the 1 for 40 split on 10/31/2012
steve also has the cusip as 40420K707

**********  let's restart this ***********
select distinct stockkey from mstockalias where symbol='HKN';
> Row 1:
>   STOCKKEY = X'15ab0e21390b0affc0a80116'
select * from mstockalias where STOCKKEY = X'15ab0e21390b0affc0a80116';
> Row 1:
>   CAPSECTORKEY = NULL
>          CUSIP = 412552309
>           DATE = TIMESTAMP '2000-04-29 15:00:00.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HARKEN ENERGY CORP NEW
>     PRIMARYKEY = X'15ac0e21390b0affc0a80116'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HEC
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
> Row 2:
>   CAPSECTORKEY = NULL
>          CUSIP = 412552309
>           DATE = TIMESTAMP '2007-06-06 00:00:00.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HARKEN ENERGY CORP NEW
>     PRIMARYKEY = X'ebaf454246676728c0a80146'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HKN
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
> Row 3:
>   CAPSECTORKEY = NULL
>          CUSIP = 412552309
>           DATE = TIMESTAMP '2007-06-06 00:00:01.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HKN Inc
>     PRIMARYKEY = X'84cc454e46676762c0a80146'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HKN
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
> Row 4:
>   CAPSECTORKEY = NULL
>          CUSIP = 40420K103  <--- this cusip is not valid 
>           DATE = TIMESTAMP '2007-06-06 00:00:02.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HKN Inc
>     PRIMARYKEY = X'5b03455346676775c0a80146'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HKN
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG

assessment - the cusip in the database is not valid
steve also has the cusip as 40420K707  <-- this is valid

do we have HKNI in the datafeed?
we do it's good

all of this on 20121031
we need ticker change
reverse split  1 for 40 
cusip change   old: 40420K103   new:   40420K707  
need to add prices
last price we have
2012-10-31 (Wed) [4321]: O:1.9700 H:1.9700 L:1.9700 C:1.9700 V:900 TSO:9596 A:1.9700 R:1.0000 CA:0.0000
select * from mstock where primarykey= X'15ab0e21390b0affc0a80116';
> Row 1:
>         IDENTITYKEY = X'5b03455346676775c0a80146'
>                NAME = HARKEN ENERGY
>          PRIMARYKEY = X'15ab0e21390b0affc0a80116'
>              SYMBOL = HEC
>           COMPANYID = 5115  <---- 
>   WINDOWIDENTITYKEY = -1062731435:-249d7868:119cfa667e7:-75e2

DO the ticker change:
/Marketocracy/bin/cahelper -symbol  HKNI  -effective 20121031 -type CHG_TKR -exchange UN -oldSymbol HKN  >& /Users/build/caout/HKN.20150514-CHG_TKR-HKNI.out
D: (05-14 09:27:37.590) Install Tiger valueForKey: hack for NSArray and NSSet
D: (05-14 09:28:24.753) cahelper started on 2015-05-14 09:28:24 -0400

D: (05-14 09:28:25.200) {
    APPLIED = 1; 
    DATE = 20121031; 
    "NEW_TICKER" = "HKNI US"; 
    NOTES = "N.A."; 
    "OLD_TICKER" = "HKN US"; 
    SYMBOL = HKNI; 
    TYPE = "CHG_TKR"; 
}
D: (05-14 09:28:25.472) SUCCESS
D: (05-14 09:28:25.473) cahelper finished 2015-05-14 09:28:25 -0400

check the database
select * from mstockalias where stockkey= ;


Check the results 
select * from mstockalias where stockkey= X'15ab0e21390b0affc0a80116' order by "date";
> Row 1:
>   CAPSECTORKEY = NULL
>          CUSIP = 412552309
>           DATE = TIMESTAMP '2000-04-29 15:00:00.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HARKEN ENERGY CORP NEW
>     PRIMARYKEY = X'15ac0e21390b0affc0a80116'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HEC
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
> Row 2:
>   CAPSECTORKEY = NULL
>          CUSIP = 412552309
>           DATE = TIMESTAMP '2007-06-06 00:00:00.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HARKEN ENERGY CORP NEW
>     PRIMARYKEY = X'ebaf454246676728c0a80146'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HKN
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
> Row 3:
>   CAPSECTORKEY = NULL
>          CUSIP = 412552309
>           DATE = TIMESTAMP '2007-06-06 00:00:01.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HKN Inc
>     PRIMARYKEY = X'84cc454e46676762c0a80146'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HKN
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
> Row 4:
>   CAPSECTORKEY = NULL
>          CUSIP = 40420K103
>           DATE = TIMESTAMP '2007-06-06 00:00:02.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HKN Inc
>     PRIMARYKEY = X'5b03455346676775c0a80146'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HKN
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
> Row 5:
>   CAPSECTORKEY = NULL
>          CUSIP = 40420K103
>           DATE = TIMESTAMP '2012-10-31 00:00:00.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HKN Inc
>     PRIMARYKEY = X'3ba8600b5554a2f9c0a86f92'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HKNI
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG

good

now apply the CUSIP change
cusip change   old: 40420K103   new:   40420K707  
/Marketocracy/bin/cahelper -symbol  HKNI  -effective 20121031 -type CHG_ID -exchange UN -newCusip 40420K707   >& /Users/build/caout/HKNI.20150514-CHG_ID.out
D: (05-14 09:34:28.452) Install Tiger valueForKey: hack for NSArray and NSSet
D: (05-14 09:35:15.715) cahelper started on 2015-05-14 09:35:15 -0400

D: (05-14 09:35:16.106) {
    APPLIED = 1; 
    DATE = 20121031; 
    "NEW_CUSIP" = 40420K707; 
    NOTES = "N.A."; 
    "OLD_CUSIP" = " "; 
    SYMBOL = HKNI; 
    TYPE = "CHG_ID"; 
}
D: (05-14 09:35:16.528) SUCCESS
D: (05-14 09:35:16.528) cahelper finished 2015-05-14 09:35:16 -0400

Let's check and set the old CUSIP in the record
select * from mstockalias where stockkey= X'15ab0e21390b0affc0a80116' order by "date";
> Row 6:
>   CAPSECTORKEY = NULL
>          CUSIP = 40420K707
>           DATE = TIMESTAMP '2012-10-31 00:00:01.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HKN Inc
>     PRIMARYKEY = X'cf4862ad5554a494c0a86f92'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HKNI
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
select * from mcorporateaction where aliaskey=X'cf4862ad5554a494c0a86f92';
> Row 1:
>              ALIASKEY = X'cf4862ad5554a494c0a86f92'
>   BB_ACTIONDICTIONARY = CP_OLD_CUSIP| |CP_NEW_CUSIP|40420K707|CP_OLD_BELGIAN| |CP_NEW_BELGIAN| |CP_OLD_FONDS| |CP_NEW_FONDS| |CP_OLD_ISIN| |CP_NEW_ISIN| |CP_OLD_SEDOL| |CP_NEW_SEDOL| |CP_OLD_SICOVAM| |CP_NEW_SICOVAM| |CP_OLD_VALOR| |CP_NEW_VALOR| |CP_OLD_WPK| |CP_NEW_WPK| |CP_OLD_COMMON| |CP_NEW_COMMON| |CP_NOTES|N.A.
>         BB_ACTIONFLAG = 0
>           BB_ACTIONID = 20150514:093515
>     BB_ACTIONMNEMONIC = CHG_ID
>          BB_COMPANYID = 0
>        BB_COMPANYNAME = 0
>           BB_CURRENCY = USD
>          BB_EFFECTIVE = TIMESTAMP '2012-10-31 00:00:00.000000'
>         BB_IDENTIFIER = HKNI     UN Equity
>             BB_ISSUED = TIMESTAMP '2012-10-31 00:00:00.000000'
>          BB_NUMFIELDS = NULL
>              BB_RCODE = 0
>              BB_SECID = HKNI
>          BB_SECIDTYPE = TKR
>         BB_SECURITYID = 0
>            BB_UPDATED = TIMESTAMP '2012-10-31 00:00:00.000000'
>            PRIMARYKEY = X'cf4262ad5554a493c0a86f92'
>               VERSION = NULL
update  mcorporateaction set BB_ACTIONDICTIONARY = 'CP_OLD_CUSIP|40420K103|CP_NEW_CUSIP|40420K707|CP_OLD_BELGIAN| |CP_NEW_BELGIAN| |CP_OLD_FONDS| |CP_NEW_FONDS| |CP_OLD_ISIN| |CP_NEW_ISIN| |CP_OLD_SEDOL| |CP_NEW_SEDOL| |CP_OLD_SICOVAM| |CP_NEW_SICOVAM| |CP_OLD_VALOR| |CP_NEW_VALOR| |CP_OLD_WPK| |CP_NEW_WPK| |CP_OLD_COMMON| |CP_NEW_COMMON| |CP_NOTES|N.A.'  where   PRIMARYKEY = X'cf4262ad5554a493c0a86f92';
select * from mcorporateaction where aliaskey=X'cf4862ad5554a494c0a86f92';
> Row 1:
>              ALIASKEY = X'cf4862ad5554a494c0a86f92'
>   BB_ACTIONDICTIONARY = CP_OLD_CUSIP|40420K103|CP_NEW_CUSIP|40420K707|CP_OLD_BELGIAN| |CP_NEW_BELGIAN| |CP_OLD_FONDS| |CP_NEW_FONDS| |CP_OLD_ISIN| |CP_NEW_ISIN| |CP_OLD_SEDOL| |CP_NEW_SEDOL| |CP_OLD_SICOVAM| |CP_NEW_SICOVAM| |CP_OLD_VALOR| |CP_NEW_VALOR| |CP_OLD_WPK| |CP_NEW_WPK| |CP_OLD_COMMON| |CP_NEW_COMMON| |CP_NOTES|N.A.
>         BB_ACTIONFLAG = 0
>           BB_ACTIONID = 20150514:093515
>     BB_ACTIONMNEMONIC = CHG_ID
>          BB_COMPANYID = 0
>        BB_COMPANYNAME = 0
>           BB_CURRENCY = USD
>          BB_EFFECTIVE = TIMESTAMP '2012-10-31 00:00:00.000000'
>         BB_IDENTIFIER = HKNI     UN Equity
>             BB_ISSUED = TIMESTAMP '2012-10-31 00:00:00.000000'
>          BB_NUMFIELDS = NULL
>              BB_RCODE = 0
>              BB_SECID = HKNI
>          BB_SECIDTYPE = TKR
>         BB_SECURITYID = 0
>            BB_UPDATED = TIMESTAMP '2012-10-31 00:00:00.000000'
>            PRIMARYKEY = X'cf4262ad5554a493c0a86f92'
>               VERSION = NULL


good
now apply the reverse split 
/Marketocracy/bin/cahelper -symbol  HKNI  -effective 20121031 -type STOCK_SPLT -exchange UN -payDate 20121031 -recordDate 20121031 -ratio 0.025 -terms '1 for 40'  >& /Users/build/caout/HKNI.20150514-STOCK_SPLT.out
stocks:~/caout build$ tail -f HKNI.20150514-STOCK_SPLT.out
D: (05-14 09:43:51.387) Install Tiger valueForKey: hack for NSArray and NSSet
D: (05-14 09:44:38.028) cahelper started on 2015-05-14 09:44:38 -0400

D: (05-14 09:44:39.742) There are [0] closed tickets for HKNI on 20121031
D: (05-14 09:44:44.762) There are [0] open tickets for HKNI on 20121031
D: (05-14 09:44:45.535) StockFileLoad Version:4.0
D: (05-14 09:44:45.536) Loading Stock Data
D: (05-14 09:44:51.831) Building Lookup Index
D: (05-14 09:44:59.371) Finished Building Index
D: (05-14 09:45:00.219) Finished Loading Stock Data
D: (05-14 09:45:00.549) Connection to 192.168.111.172:6666 succeeded
D: (05-14 09:45:05.883) SavingChanges for stock split 101 of 638
D: (05-14 09:45:45.042) SavingChanges for stock split 201 of 638
D: (05-14 09:46:25.882) {
    APPLIED = 1; 
    DATE = 20121031; 
    FUNDS = (
        "kurtislonepine/Kurt Kuhn's Mutual Fund", 
        "adickson/Dundee High Risk Energy Fund", 
        "genpitaly/Genpino Mutual Fund", 
        "jussey/james ussey's Small Cap Mutual Fund", 
        "bluffy/BPL Fund", 
        "moreno770/MONTEVECCHIO 0028", 
        "jimtracey/ Tips Fund", 
        "mkantor/Kantor Value Fund", 
        "sloot/sloot's Smallcap Fund", 
        "tony_camean/tony_camean's Mutual Fund", 
        "svan_buren/Steve Van Buren's Mutual Fund", 
        "alex1963/alex.crovati's Mutual Fund", 
        "leb1981/dollar Fund", 
        "agvelenyi/energy growth", 
        "DELETED_2004257/barbara putban's Mutual Fund", 
        "lifeandfamily/Life and Family Mutual Fund", 
        "acolton/AJ'S OIL & GAS FUND", 
        "snorri44/snorri44's Mutual Fund", 
        "kurtislonepine/kurtislonepine's Mutual Fund", 
        "marmstrong/WombatTLC", 
        "gary_davis/gary_davis's Mutual Fund", 
        "tfreak/tfreak's Mutual Fund", 
        "chaseboy/Mickey's  Energy Mutual Fund", 
        "cmnwrld/Hedge Mutual Venture", 
        "bbtest2/DURKOP MAVERICK CONTRA FUND", 
        "captain63/captain63's Mutual Fund", 
        "dw1/dw1's Mutual Fund", 
        "bbtest2/DURKOP MAVERICK SPEC FUND", 
        "mcfadden2002/Crazy $ People", 
        "bbtest2/DURKOP MAVERICK NATURAL RESOURCE FUND", 
        "deadalias/deadalias's Mutual Fund", 
        "zpryor/Zacks Petroleum Fund", 
        "cacwtc/cacwtc's Mutual Fund", 
        "velt1/velt1's Mutual Fund", 
        "basia/basia's Mutual Fund", 
        "cgcrit/cgcrit's Mutual Fund", 
        "crodgers1/crodgers1's Mutual Fund", 
        "theanswer/theanswer's maddiary", 
        "zakik/zakik's Mutual Fund", 
        "etalas/Etalas Penny Stock Fund", 
        "thewhat/Eight Figure Investments Fund", 
        "jcandler3/jcandler3's Mutual Fund", 
        "santholding/santholding's Mutual Fund", 
        "ocsupertones/Buy and Hold Penny Stocks", 
        "stenz/SS Fund One", 
        "jaylee/jaylee's Mutual Fund", 
        "foxy_professor33/foxy_professor33's Mutual Fund", 
        "dmoffet/OB1 Fund", 
        "florica/Balance 8", 
        "chartmaster/Cup With Handles and High RS", 
        "cmnwrld/GroupVenture.com Fund", 
        "moreno770/MONTECALVO 0019", 
        "chih22/Bling Bling Energy & Natural Resources", 
        "chih22/Stack 'N Chips Growth Fund", 
        "ozymandais/ozymandais's Mutual Fund", 
        "chih22/Shot Calla Fund", 
        "cdefranceschi/Craig DeFranceschi's Contrarian", 
        "lewtn/lewtn's cash-cow fund", 
        "gsilcott/George Silcott's Mutual Fund", 
        "jlorber/jlorber's Mutual Fund", 
        "ljg567/ljg567's Mutual Fund", 
        "sethpn/sethpn's Mutual Fund", 
        "tyky/tyky's Mutual Fund", 
        "ozymandais/Jimmy Chang's Natural Resources Funds", 
        "scllspirit/scllspirit's Mutual Fund", 
        "maae10/Alert Fund", 
        "jsgreenfield/Marketocracy Strong Buy Alert test fund", 
        "gml/GML Investments #1a", 
        "chih22/Big Balla Mutual Fund", 
        "jwm9/Josh's Kickstart Fund", 
        "jdailey/jdailey's Mutual Fund", 
        "jdailey/jdailey's Mutual Fund", 
        "jdailey/jdailey's Mutual Fund", 
        "jdailey/jdailey's Mutual Fund", 
        "jdailey/jdailey's Mutual Fund", 
        "jdailey/jdailey's Mutual Fund", 
        "jdailey/jdailey's Mutual Fund", 
        "jdailey/jdailey's Mutual Fund", 
        "jdailey/jdailey's Mutual Fund", 
        "sheltim/sheltim's First Mutual Fund", 
        "playerman/Actively Managed Fund #642", 
        "hagai/hagai's Mutual Fund", 
        "wink/wink's value market leaders fund", 
        "hagai/hagai's Mutual Fund", 
        "lostwages/lostwages's Mutual Fund", 
        "gunanaman/The Jedi Council BS Fund", 
        "balbosa/balbosa's Mutual Fund", 
        "papavalium/papavalium's Mutual Fund", 
        "mspiegel/Integrity Agressive Growth", 
        "taotu99/Aquarius", 
        "DELETE_gmmarques_40619040/gmmarques's Mutual Fund", 
        "jdrazdowski/joseph stanley drazdowski's Mutual Fund", 
        "bostonenglish/Rookie Trader Small Cap Fund", 
        "lewtn/spring wealth growth fund", 
        "natekane2001/Personal Picks Mutual Fund", 
        "scooter202/scooter202's Mutual Fund", 
        "bernwatson/jobnjabez Mutual Fund", 
        "mchristy/Timing- Long ", 
        "monsean/Beatdowns", 
        "jtheos1/Pure Value Fund", 
        "jdrazdowski/joseph stanley drazdowski's Mutual Fund", 
        "jdrazdowski/concord", 
        "uferry/uferlos", 
        "soon144000/Soon144000's Bear Fund", 
        "goldencross/goldencross's Mutual Fund", 
        "kitrainee/kitrainee's Mutual Fund", 
        "vak001/vak001's Mutual Fund", 
        "vak001/vak001's Mutual Fund", 
        "og2man/Sean & Edward's penny fund", 
        "benbrown182/Benjina", 
        "mat913/M.A.T", 
        "double_l/double_l's Mutual Fund", 
        "jim3333/jim3333's Mutual Fund", 
        "jim3333/jim3333's Mutual Fund", 
        "jim3333/jimlcap", 
        "jim3333/jim3333's Mutual Fund", 
        "jim3333/jim3333's Mutual Fund", 
        "kmaksimovich/Kmak Aggressive Growth", 
        "apitzer/T.Pitzer A", 
        "jdailey/jdailey's Mutual Fund", 
        "jim3333/jim3333's Mutual Fund", 
        "11029956/U.S. equity", 
        "11029956/Mergers & acquisitions", 
        "jeffrats/Jeffrats' Pyramid", 
        "maae10/OIL", 
        "jim3333/jim3333's Mutual Fund", 
        "leoskeys/leoskeys's Mutual Fund", 
        "trstockalerts/trstockalerts's Mutual Fund", 
        "samoward/samoward's oil play", 
        "edi_francia/Voices inside my head", 
        "smilingbear/OneDollarOnly", 
        "rosie/Spice Mutual Fund", 
        "bushes/Bushes' Golden Nickel Fund", 
        "elanvcu/elanvcu's Mutual Fund", 
        "klandragan/klandragan's Mutual Fund", 
        "clifftone/clifftone's Mutual Fund", 
        "boogertwo/boogertwo's Mutual Fund", 
        "jmorrnh/jmorrnh's Mutual Fund", 
        "jmorrnh/jmorrnh's Mutual Fund", 
        "samoward/samoward's Mutual Fund", 
        "jim3333/jim3333's Mutual Fund", 
        "xboardfan1/xboardfan1's penny stock fund", 
        "jasonl36/jasonl36's Penny Fund", 
        "baneasa/North Shore FIRE Fund", 
        "baneasa/North Shore General Fund", 
        "baneasa/North Shore Utility Fund", 
        "autounion/autounion's Mutual Fund", 
        "jsavey/jsavey's Mutual Fund", 
        "target/target's Patti fund", 
        "backtash/backtash's Mutual Fund", 
        "mkantor/Kantor Energy Fund", 
        "vinc_t/vinc&t's Mutual Fund", 
        "vooch/Vooch Top Buy", 
        "snvempa2000/snvempa2000's Mutual Fund", 
        "mmills/stockscouter10 Fund", 
        "amandalc/Because My Other Fund Bombed Fund", 
        "amandalc/Amanda's Mutual Fund", 
        "willy/willy's Mutual Fund", 
        "babdul/Basher  Gold & Energy  Fund", 
        "agger664/agger664's Mutual Fund", 
        "DELETED_watermen_2009072012050012/BALTIC AMBER FUND", 
        "littlemookie/littlemookie's Mutual Fund", 
        "littlemookie/ari  Mutual Fund", 
        "littlemookie/littlemookie's Mutual Fund", 
        "razorweb/razor's value fund", 
        "bkalaf/BD Kalaf's Natural Resources Growth & Value Fund", 
        "vooch5/momo1", 
        "stavinohal/stavinohal's Mutual Fund", 
        "carol_newell/St. Mary's Colony Energy Fund", 
        "flajuie/Swarm of Robot Mice", 
        "lcalvert/Paradigm Mutual Fund", 
        "mkantor/Kantor Healthcare Fund", 
        "mkantor/Kantor Information Technology", 
        "jannoni/OG Fund IV", 
        "DELETED_budtower_2009072012050004/Tower Opportunity Fund ", 
        "dvshucks/2006 PE Fund", 
        "edi_francia/sakyamuni fund", 
        "mariusz106/Growth and Capital Appreciation Fund", 
        "dkbellman/dkbellman's Mutual Fund", 
        "aharyadi/aharyadi's Mutual Fund", 
        "njacoby/Norman I. Jacoby's Mutual Fund", 
        "scifos/scifos Super Cheap", 
        "jselengut/Value Fund", 
        "tahdog/Henshall Total Opportunity Fund - Long", 
        "tahdog/Henshall Small Cap Fund", 
        "dshockey19/dshockey19's Mutual Fund", 
        "sandspider/Khaled's Confidence Fund", 
        "jptordilla/ROEFX", 
        "jim3333/jim3333's Mutual Fund", 
        "jt3641/jt3641's MICRO Mutual Fund", 
        "caleb2422/caleb2422's Mutual Fund", 
        "bedens/bedens's Mutual Fund", 
        "stock_sniffer/DURKOP MAVERICK FUND", 
        "gmetrou/Low Price Point Fund", 
        "debitmgt/debitmgt's Mutual Fund", 
        "cussins/tommy likes money", 
        "adpopulum/Adpopulum's Mutual Fund", 
        "nagrim/nagrim's Mutual Fund", 
        "littlemookie/littlemookie's Mutual Fund", 
        "littlemookie/littlemookie's Mutual Fund", 
        "crazykartman/Crazykartman's Mutual Fund", 
        "fanatic1@vip.hr/Fanatic1 Mutual Fund", 
        "littlemookie/eric fly flund", 
        "littlemookie/new fund", 
        "littlemookie/littlemookie's Mutual Fund", 
        "mikejones/Mike Jones Mutual Fund", 
        "flyinryan/FlyinRyan Mutual Fund", 
        "davidluke/StartUP's Mutual Fund", 
        "davidluke/Penny's Mutual Fund", 
        "bradcjohnston@gmail.com/bradcjohnston@gmail.com's Mutual Fund", 
        "herunsalot/herunsalot's Mutual Fund", 
        "timmyd/timmyd's Mutual Fund", 
        "ben.gent/Broad Value", 
        "caleb2422/caleb2422's Mutual Fund", 
        "cdc837/Mirror Fund", 
        "edi_francia/You Gata Believe", 
        "wisesage5001/wisesage5001's Mutual Fund", 
        "wisesage5001/wisesage5001's Mutual Fund", 
        "wisesage5001/wisesage5001's Mutual Fund2", 
        "heresiarch/Heresiarch Fund", 
        "lwroblewski/Guardian Small-Cap Fund", 
        "zamsoc7/zamsoc7's Mutual Fund", 
        "tas/Tasmainiacs Mutual Fund", 
        "yangsta05/yangsta05's Mutual Fund", 
        "magicman/New World Fund", 
        "carol_newell/St. Mary's Colony Value Fund", 
        "son454/thanhkim's Mutual Fund", 
        "aharon10/ch-ch-challenge fund", 
        "cschuyler/cschuyler's Mutual Fund", 
        "fanatic1@vip.hr/Dalmacia Mutual Fund", 
        "adeeb/Adeeb's Mutual Fund III", 
        "oene/oene's Mutual Fund", 
        "oene/oene's Mutual Fund", 
        "casper3/casper3's Mutual Fund", 
        "lou19/lou19's Mutual Fund", 
        "jcalow/JIMS PICKS", 
        "mwgibbs/mwgibbs's Mutual Fund", 
        "jcalow/vectorvest rec", 
        "mxcont66/mxcont66's Mutual Fund", 
        "jtkiefer/Technologic United Fund", 
        "lsoon_fong1/Amex", 
        "mariusz106/2006", 
        "jcalow/jcalow's Mutual Fund", 
        "rserrell/Microcap Value Fund", 
        "skully/skully's Mutual Fund", 
        "kikola/Energy I", 
        "kikola/Momentum I", 
        "kikola/Commodities I", 
        "ericcofg/ericcofg's Mutual Fund", 
        "alexios4/AAM Value", 
        "theroo/theroo's Mutual Fund", 
        "ericspears/ems oil and gas", 
        "jaime/jaime's Mutual Fund", 
        "stocksniffer1/DURKOP  STORY STOCK FUND", 
        "peterabates/peterabates's Mutual Fund", 
        "alui/AL's SmallCap Opportunity Fund", 
        "jfrancois/jfrancois's Short Fund", 
        "dkm2206/dkm2206's Mutual Fund", 
        "iwatt001/iwatt001's Mutual Fund", 
        "bcr501spr08lvh/Jeremy Sestito", 
        "pul4895/LSP Mutual Fund", 
        "jarvis_hills/gone south", 
        "crossy/Crossy's Energy Opportunity Fund", 
        "jdrazdowski/acer", 
        "mferri/mferri's Mutual Fund", 
        "kikola/Global Macro I", 
        "kikola/Value I", 
        "kikola/International Opportunities I", 
        "heeyult/Heeyult's TIM Long Fund", 
        "kbeta/kbeta's Mutual Fund", 
        "kikola/Bright Star I", 
        "kadir/Negative EV", 
        "stocksniffer/SNIFFER FUND"
    ); 
    NOTES = "N.A."; 
    "PAY_DATE" = 20121031; 
    RATIO = 0.025; 
    "RECORD_DATE" = 20121031; 
    SYMBOL = HKNI; 
    TYPE = "STOCK_SPLT"; 
}
D: (05-14 09:46:39.880) SUCCESS
D: (05-14 09:46:39.881) cahelper finished 2015-05-14 09:46:39 -0400

Ok, let's check again:
select * from mstockalias where stockkey= X'15ab0e21390b0affc0a80116' order by "date";
> Row 1:
>              ALIASKEY = X'cf4862ad5554a494c0a86f92'
>   BB_ACTIONDICTIONARY = CP_OLD_CUSIP| |CP_NEW_CUSIP|40420K707|CP_OLD_BELGIAN| |CP_NEW_BELGIAN| |CP_OLD_FONDS| |CP_NEW_FONDS| |CP_OLD_ISIN| |CP_NEW_ISIN| |CP_OLD_SEDOL| |CP_NEW_SEDOL| |CP_OLD_SICOVAM| |CP_NEW_SICOVAM| |CP_OLD_VALOR| |CP_NEW_VALOR| |CP_OLD_WPK| |CP_NEW_WPK| |CP_OLD_COMMON| |CP_NEW_COMMON| |CP_NOTES|N.A.
>         BB_ACTIONFLAG = 0
>           BB_ACTIONID = 20150514:093515
>     BB_ACTIONMNEMONIC = CHG_ID
>          BB_COMPANYID = 0
>        BB_COMPANYNAME = 0
>           BB_CURRENCY = USD
>          BB_EFFECTIVE = TIMESTAMP '2012-10-31 00:00:00.000000'
>         BB_IDENTIFIER = HKNI     UN Equity
>             BB_ISSUED = TIMESTAMP '2012-10-31 00:00:00.000000'
>          BB_NUMFIELDS = NULL
>              BB_RCODE = 0
>              BB_SECID = HKNI
>          BB_SECIDTYPE = TKR
>         BB_SECURITYID = 0
>            BB_UPDATED = TIMESTAMP '2012-10-31 00:00:00.000000'
>            PRIMARYKEY = X'cf4262ad5554a493c0a86f92'
>               VERSION = NULL
marketocracy@db1#15> K| |CP_NEW_WPK| |CP_OLD_COMMON| |CP_NEW_COMMON| |CP_NOTES|N.A.'  where   PRIMARYKEY = X'cf4262ad5554a493c0a86f92';
marketocracy@db1#16> select * from mcorporateaction where aliaskey=X'cf4862ad5554a494c0a86f92';
> Row 1:
>              ALIASKEY = X'cf4862ad5554a494c0a86f92'
>   BB_ACTIONDICTIONARY = CP_OLD_CUSIP|40420K103|CP_NEW_CUSIP|40420K707|CP_OLD_BELGIAN| |CP_NEW_BELGIAN| |CP_OLD_FONDS| |CP_NEW_FONDS| |CP_OLD_ISIN| |CP_NEW_ISIN| |CP_OLD_SEDOL| |CP_NEW_SEDOL| |CP_OLD_SICOVAM| |CP_NEW_SICOVAM| |CP_OLD_VALOR| |CP_NEW_VALOR| |CP_OLD_WPK| |CP_NEW_WPK| |CP_OLD_COMMON| |CP_NEW_COMMON| |CP_NOTES|N.A.
>         BB_ACTIONFLAG = 0
>           BB_ACTIONID = 20150514:093515
>     BB_ACTIONMNEMONIC = CHG_ID
>          BB_COMPANYID = 0
>        BB_COMPANYNAME = 0
>           BB_CURRENCY = USD
>          BB_EFFECTIVE = TIMESTAMP '2012-10-31 00:00:00.000000'
>         BB_IDENTIFIER = HKNI     UN Equity
>             BB_ISSUED = TIMESTAMP '2012-10-31 00:00:00.000000'
>          BB_NUMFIELDS = NULL
>              BB_RCODE = 0
>              BB_SECID = HKNI
>          BB_SECIDTYPE = TKR
>         BB_SECURITYID = 0
>            BB_UPDATED = TIMESTAMP '2012-10-31 00:00:00.000000'
>            PRIMARYKEY = X'cf4262ad5554a493c0a86f92'
>               VERSION = NULL
marketocracy@db1#17> select * from mstockalias where stockkey= X'15ab0e21390b0affc0a80116' order by "date";
> Row 1:
>   CAPSECTORKEY = NULL
>          CUSIP = 412552309
>           DATE = TIMESTAMP '2000-04-29 15:00:00.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HARKEN ENERGY CORP NEW
>     PRIMARYKEY = X'15ac0e21390b0affc0a80116'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HEC
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
> Row 2:
>   CAPSECTORKEY = NULL
>          CUSIP = 412552309
>           DATE = TIMESTAMP '2007-06-06 00:00:00.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HARKEN ENERGY CORP NEW
>     PRIMARYKEY = X'ebaf454246676728c0a80146'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HKN
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
> Row 3:
>   CAPSECTORKEY = NULL
>          CUSIP = 412552309
>           DATE = TIMESTAMP '2007-06-06 00:00:01.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HKN Inc
>     PRIMARYKEY = X'84cc454e46676762c0a80146'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HKN
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
> Row 4:
>   CAPSECTORKEY = NULL
>          CUSIP = 40420K103
>           DATE = TIMESTAMP '2007-06-06 00:00:02.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HKN Inc
>     PRIMARYKEY = X'5b03455346676775c0a80146'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HKN
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
> Row 5:
>   CAPSECTORKEY = NULL
>          CUSIP = 40420K103
>           DATE = TIMESTAMP '2012-10-31 00:00:00.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HKN Inc
>     PRIMARYKEY = X'3ba8600b5554a2f9c0a86f92'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HKNI
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
	select * from mcorporateaction where aliaskey= X'3ba8600b5554a2f9c0a86f92';
> Row 1:
>              ALIASKEY = X'3ba8600b5554a2f9c0a86f92'
>   BB_ACTIONDICTIONARY = CP_OLD_TKR|HKN US|CP_NEW_TKR|HKNI US|CP_NOTES|N.A.
>         BB_ACTIONFLAG = 0
>           BB_ACTIONID = 20150514:092824
>     BB_ACTIONMNEMONIC = CHG_TKR
>          BB_COMPANYID = 0
>        BB_COMPANYNAME = 0
>           BB_CURRENCY = USD
>          BB_EFFECTIVE = TIMESTAMP '2012-10-31 00:00:00.000000'
>         BB_IDENTIFIER = HKNI     UN Equity
>             BB_ISSUED = TIMESTAMP '2012-10-31 00:00:00.000000'
>          BB_NUMFIELDS = NULL
>              BB_RCODE = 0
>              BB_SECID = HKNI
>          BB_SECIDTYPE = TKR
>         BB_SECURITYID = 0
>            BB_UPDATED = TIMESTAMP '2012-10-31 00:00:00.000000'
>            PRIMARYKEY = X'3ba2600b5554a2f8c0a86f92'
>               VERSION = NULL

> Row 6:
>   CAPSECTORKEY = NULL
>          CUSIP = 40420K707
>           DATE = TIMESTAMP '2012-10-31 00:00:01.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = HKN Inc
>     PRIMARYKEY = X'cf4862ad5554a494c0a86f92'
>       STOCKKEY = X'15ab0e21390b0affc0a80116'
>         SYMBOL = HKNI
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 10102020
>       STYLEKEY = XG
	select * from mcorporateaction where aliaskey=X'cf4862ad5554a494c0a86f92' ;
> Row 1:
>              ALIASKEY = X'cf4862ad5554a494c0a86f92'
>   BB_ACTIONDICTIONARY = CP_OLD_CUSIP|40420K103|CP_NEW_CUSIP|40420K707|CP_OLD_BELGIAN| |CP_NEW_BELGIAN| |CP_OLD_FONDS| |CP_NEW_FONDS| |CP_OLD_ISIN| |CP_NEW_ISIN| |CP_OLD_SEDOL| |CP_NEW_SEDOL| |CP_OLD_SICOVAM| |CP_NEW_SICOVAM| |CP_OLD_VALOR| |CP_NEW_VALOR| |CP_OLD_WPK| |CP_NEW_WPK| |CP_OLD_COMMON| |CP_NEW_COMMON| |CP_NOTES|N.A.
>         BB_ACTIONFLAG = 0
>           BB_ACTIONID = 20150514:093515
>     BB_ACTIONMNEMONIC = CHG_ID
>          BB_COMPANYID = 0
>        BB_COMPANYNAME = 0
>           BB_CURRENCY = USD
>          BB_EFFECTIVE = TIMESTAMP '2012-10-31 00:00:00.000000'
>         BB_IDENTIFIER = HKNI     UN Equity
>             BB_ISSUED = TIMESTAMP '2012-10-31 00:00:00.000000'
>          BB_NUMFIELDS = NULL
>              BB_RCODE = 0
>              BB_SECID = HKNI
>          BB_SECIDTYPE = TKR
>         BB_SECURITYID = 0
>            BB_UPDATED = TIMESTAMP '2012-10-31 00:00:00.000000'
>            PRIMARYKEY = X'cf4262ad5554a493c0a86f92'
>               VERSION = NULL
> Row 2:
>              ALIASKEY = X'cf4862ad5554a494c0a86f92'
>   BB_ACTIONDICTIONARY = CP_TERMS|1 for 40|CP_RATIO|0.025000|CP_RECORD_DT|20121031|CP_PAY_DT|20121031|CP_STOCK_SPLT_TYP|3000|CP_ADJ| |CP_ADJ_DT| |CP_SH_FRACTIONAL|N.A.|CP_INDICATOR|N|CP_NOTES|N.A.
>         BB_ACTIONFLAG = 0
>           BB_ACTIONID = 20150514:094438
>     BB_ACTIONMNEMONIC = STOCK_SPLT
>          BB_COMPANYID = 0
>        BB_COMPANYNAME = 0
>           BB_CURRENCY = USD
>          BB_EFFECTIVE = TIMESTAMP '2012-10-31 00:00:00.000000'
>         BB_IDENTIFIER = HKNI     UN Equity
>             BB_ISSUED = TIMESTAMP '2012-10-31 00:00:00.000000'
>          BB_NUMFIELDS = NULL
>              BB_RCODE = 0
>              BB_SECID = HKNI
>          BB_SECIDTYPE = TKR
>         BB_SECURITYID = 0
>            BB_UPDATED = TIMESTAMP '2012-10-31 00:00:00.000000'
>            PRIMARYKEY = X'5bff654e5554a6c6c0a86f92'
>               VERSION = NULL



select count(*) from mticket where sourcekey =X'5bff654e5554a6c6c0a86f92' ;
> Row 1:
>   _C001 = 546.000000

select distinct fundkey from mposition where primarykey in (select positionkey from mtrade where ticketkey in (select primarykey from mticket where sourcekey=X'5bff654e5554a6c6c0a86f92'));
273 fund keys  let's save them to CA issues HKNI fundkeys.txt

Ok, we need to add prices from 11/1/2012 to the present
let's get them from yahoo
 I did this
used the template

checking what we already have in the database
companyID: [5115]
/Library/FrontBase/bin/sql
connect to marketdata@stocks user eouser;

select * from stockprices where companyid= 5115 order by daynumber;
first one:
> Row 1:
>   DAYNUMBER = -245
>   COMPANYID = 5115
>      OPENED = 7500
>        HIGH = 8125
>         LOW = 7500
>      CLOSED = 7500
>      VOLUME = 368700

last one:
> Row 3168:
>   DAYNUMBER = 4321  <--- what day is there?  10/31/12	4321	Wed  
>   COMPANYID = 5115
>      OPENED = 19700
>        HIGH = 19700
>         LOW = 19700
>      CLOSED = 19700
>      VOLUME = 900

let's run the scripts in the file

ok, they are all there

Marty, I told you "/Marketocracy/bin/StockPriceBuilder -invalidate 4130" and it should have been "/Marketocracy/bin/StockPriceBuilder invalidate 4130"

/Marketocracy/bin/StockPriceBuilder invalidate 4322

kim says it looks good for tomorrow 

5/17/15   the ticker change is there and the graph looks ok - low volume
closing this out 
