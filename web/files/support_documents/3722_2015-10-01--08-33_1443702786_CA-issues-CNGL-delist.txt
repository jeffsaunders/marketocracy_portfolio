CNGL
date:    9/30/15

ticker:    CNGL
found this in mkoza TGF fund as not pricing he has 10058 shares

yahoo:

quantum: 
China Nutrifruit Group Ltd
Ticker Symbol: CNGL*     CUSIP: 16944U108     Exchange: OTOTC
* NOTE: This security is no longer trading as of 4/26/12

Company's Online Profile
BUSINESS:  Headquartered in Daqing City, Heilongjiang Province, China Nutrifruit Group Limited is a U.S. publicly traded company and offers premium specialty fruit based products in the People’s Republic of China (PRC). The Company specializes in developing, processing, marketing and distributing a variety of food products processed primarily from premium specialty fruits grown in Northeast China, including golden berry, crab apple, blueberry and raspberry. The primary product offerings include fruit concentrate, nectar, glazed fruits, beverages as well as fresh fruits. All of China Nutrifruit’s processing facilities passed ISO 9001 certification and HACCP (Hazard Analysis and Critical Control Point) series qualification. The Company’s golden berry nectars and glazed fruits products have been certified as green food by China Green Food development Center. The Company has established an extensive nationwide sales and distribution network covering 19 provinces in China.
Notes:  On April 26, 2012, the Company’s counsel received a phone call from NYSE Regulation (“NYSE”) stating that trading in the Company’s common stock has been halted on Amex, effective at 9:00 on April 26, 2012.


oursite:
Symbol: CNGL	Name: China Nutrifruit Group Ltd	Price: $0.01
Volume:	Sector: Consumer Staples	Change:
Short Volume: 7,518	Style: Micro Cap : Value	Market Cap:
Avg Volume: 7,518	 Exchange: OTCBB	Today: 0.00%
50 Day Ave: $0.00	Year High: $0.01	High:
200 Day Ave: $0.01	Year Low: $0.00	Low:

CAs
symbol changes for CNGL	right curve
 	 	
Effective Date	Old Symbol	New Symbol	Description
24 May 02	FTEC	SYNX	Change in the ticker (trading) symbol from FTEC to SYNX
20 Jun 08	FTEC	FHTI	Change in the ticker (trading) symbol from FTEC to FHTI
25 Aug 08	FHTI	CNGL	Change in the ticker (trading) symbol from FHTI to CNGL
 	 	 
left curve	  CUSIP changes for CNGL	right curve
 	 	
Effective Date	Old CUSIP	New CUSIP	Description
24 May 02	318319605	87160C106	Change in any of identification numbers (CUSIP) of a security from 318319605 to 87160C106
20 Jun 08	311854301	311854400	Change in any of identification numbers (CUSIP) of a security from 311854301 to 311854400
25 Aug 08	311854400	16944U108	Change in any of identification numbers (CUSIP) of a security from 311854400 to 16944U108
 	 	 
left curve	  name changes for CNGL	right curve
 	 	
Effective Date	Old Name	New Name	Description
24 May 02	FIRETECTOR INC	SYNERGX Systems Inc	Change in the name of issuer from FIRETECTOR INC to SYNERGX Systems Inc
25 Aug 08	Fashion Tech International Inc	China Nutrifruit Group Ltd	Change in the name of issuer from Fashion Tech International Inc to China Nutrifruit Group Ltd
 	 	 
left curve	  listing changes for CNGL	right curve
 	 	
Effective Date	Old Exchange	Old Cod	New Exchange	New Code	Description
Aug 17, 2009	NASDAQ-SMALLCAP	UR	OTCBB-OTHER	UV	Change in the exchange that SYNX trades on from NASDAQ-SMALLCAP to OTCBB-OTHER
Aug 27, 2009	OTCBB	UU	AMEX	UA	Change in the exchange that CNGL trades on from OTCBB to AMEX
Jun 15, 2012	AMEX	UA	OTCBB-OTHER	UV	Change in the exchange that CNGL trades on from AMEX to OTCBB-OTHER
 	 	 
left curve	  cash dividends paid by CNGL	right curve
 	 	
Effective Date	Record Date	Pay Date	Frequency	Gross	Description
01 Nov 07	29 Oct 07	31 Oct 07	N/A	$0.11	Dividend amount:0.11 per share.
 	 	 
left curve	  CNGL had some stock splits	right curve
 	 	
Effective Date	Terms	Description
28 Jul 03	2 for 1	Split terms:2 for 1
28 Jul 03	2 for 1	Split terms:2 for 1
20 Jun 08	1 for 10	Split terms:1 for 10

Xignite:
http://192.168.111.213/feed/stockLookup.php?symbol=EYES

check MAdmin
Stock:China Nutrifruit Group Ltd  Symbol:CNGL
Date: 09/30/2015

36 users found

1	alku	aneedham	anniecam	babs	baxelrod	curefairy	dmitry_buriko	dreadknought40	evianello	fndblsh
2	ibozo	jovixxx	jtmuncey	kennethwlong	kvogelsang	lordgodking	loyola15	luzkannon	melexis1	mkoza
3	mopoji	mweinand	nivek	prichins	rubinsr	samko	sjors86	solidoasis	sparkes	stellar
4	teamfunds	thefletch	vooch2	vooch5	zephrin	zookeeper

database
select distinct stockkey from mstockalias where symbol= 'CNGL';  
> Row 1:
>   STOCKKEY = X'e2fa0e21390a8d68c0a80116'
select * from mstockalias where stockkey=X'e2fa0e21390a8d68c0a80116'     order by "date";
> Row 1:
>   CAPSECTORKEY = NULL
>          CUSIP = 316092808
>           DATE = TIMESTAMP '2000-04-29 15:00:00.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = FIRETECTOR INC
>     PRIMARYKEY = X'e2fb0e21390a8d68c0a80116'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = FTEC
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 2:
>   CAPSECTORKEY = NULL
>          CUSIP = 318319605
>           DATE = TIMESTAMP '2002-05-24 00:00:00.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = FIRETECTOR INC
>     PRIMARYKEY = X'1a7027413ceef4c6c0a801dc'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = SYNX
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 3:
>   CAPSECTORKEY = NULL
>          CUSIP = 318319605
>           DATE = TIMESTAMP '2002-05-24 00:00:01.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = SYNERGX Systems Inc
>     PRIMARYKEY = X'3ebb28fa3ceef74cc0a801dc'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = SYNX
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 4:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2002-05-24 00:00:02.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = SYNERGX Systems Inc
>     PRIMARYKEY = X'ff3229d53ceef82cc0a801dc'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = SYNX
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 5:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2008-06-20 00:00:00.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = SYNERGX Systems Inc
>     PRIMARYKEY = X'0c6f550c485c6118c0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = FHTI
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 6:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2008-06-20 00:00:01.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = SYNERGX Systems Inc
>     PRIMARYKEY = X'87235538485c6172c0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = FHTI
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 7:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2008-08-25 00:00:00.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = SYNERGX Systems Inc
>     PRIMARYKEY = X'0645409048b3640dc0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
	select * from mcorporateaction where aliaskey=X'0645409048b3640dc0a80146';
> Row 1:
>              ALIASKEY = X'0645409048b3640dc0a80146'
>   BB_ACTIONDICTIONARY = CP_OLD_TKR|FHTI US|CP_NEW_TKR|CNGL US|CP_NOTES|N.A.
>         BB_ACTIONFLAG = N
>           BB_ACTIONID = 33095500
>     BB_ACTIONMNEMONIC = CHG_TKR
>          BB_COMPANYID = 1176657
>        BB_COMPANYNAME = China Nutrifruit Group Ltd
>           BB_CURRENCY = USD
>          BB_EFFECTIVE = TIMESTAMP '2008-08-25 00:00:00.000000'
>         BB_IDENTIFIER = CNGL    UU Equity
>             BB_ISSUED = TIMESTAMP '2008-08-22 00:00:00.000000'
>          BB_NUMFIELDS = 3
>              BB_RCODE = 0
>              BB_SECID = CNGL
>          BB_SECIDTYPE = TKR
>         BB_SECURITYID = 1000
>            BB_UPDATED = NULL
>            PRIMARYKEY = X'c4d0407548b363c2c0a80146'
>               VERSION = NULL

> Row 8:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2008-08-25 00:00:01.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'095d40b248b36457c0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 9:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2008-08-25 00:00:02.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'f39940cc48b3646ac0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 10:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2009-08-17 00:00:00.000000'
>    EXCHANGEKEY = X'6325039339e7e926c0a801dc'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'b7df1a624a89c5bac0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 11:
>   CAPSECTORKEY = NULL
>          CUSIP = 16944U108
>           DATE = TIMESTAMP '2009-08-27 00:00:00.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'0f6216534a96f4bec0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 30202030
>       STYLEKEY = XV
> Row 12:
>   CAPSECTORKEY = NULL
>          CUSIP = 16944U108
>           DATE = TIMESTAMP '2012-06-15 00:00:00.000000'
>    EXCHANGEKEY = X'6325039339e7e926c0a801dc'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'c0cd32e74fdbbb3ec0a80146'  <--- make this the identitykey
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 30202030
>       STYLEKEY = XV
> Row 13:
>   CAPSECTORKEY = NULL
>          CUSIP = 16944U108
>           DATE = TIMESTAMP '2015-06-30 00:00:00.000000'
>    EXCHANGEKEY = X'6325039339e7e926c0a801dc'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'd86840e355e892e9c0a86f92'<--------------- delete this 
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'6347039339e7e927c0a801dc'  <-- went inactive here 
>      CSISYMBOL = NULL
>        GICSKEY = 30202030
>       STYLEKEY = XV
select * from mcorporateaction where aliaskey=X'd86840e355e892e9c0a86f92';
> Row 1:
>              ALIASKEY = X'd86840e355e892e9c0a86f92'
>   BB_ACTIONDICTIONARY = CP_EXCH|UV|CP_TKR|CNGL|CP_DELIST_REASON|17|CP_NOTES|12(j)Registration Revoked by SEC
>         BB_ACTIONFLAG = N
>           BB_ACTIONID = 108965395
>     BB_ACTIONMNEMONIC = DELIST
>          BB_COMPANYID = 1176657
>        BB_COMPANYNAME = China Nutrifruit Group Ltd
>           BB_CURRENCY = USD
>          BB_EFFECTIVE = TIMESTAMP '2015-06-30 00:00:00.000000'
>         BB_IDENTIFIER = CNGL    US Equity
>             BB_ISSUED = TIMESTAMP '2015-06-30 00:00:00.000000'
>          BB_NUMFIELDS = 4
>              BB_RCODE = 0
>              BB_SECID = CNGL
>          BB_SECIDTYPE = TKR
>         BB_SECURITYID = 1000
>            BB_UPDATED = TIMESTAMP '2015-06-30 00:00:00.000000'
>            PRIMARYKEY = X'd87f4f8455bc3053c0a86f92'  <--------------- delete this 
>               VERSION = NULL
	select count(*) from mticket where sourcekey=X'd87f4f8455bc3053c0a86f92';
> Row 1:
>   _C001 = 0.000000

check for unapplied CAs in the database

select * from mcorporateaction where aliaskey is null and BB_SECID='CNGL'  order by BB_EFFECTIVE;
nothing useful, last thing was 2012 

last known price
/Marketocracy/bin/dbtool lookup stock CNGL
stock: CNGL
  PK       : [E2FA0E21390A8D68C0A80116]
  companyID: [1871]
  symbol   : [CNGL]
  name     : [China Nutrifruit Group Ltd]
  date     : [2012-06-15 00:00:00]
  status   : [Active]
stock: CNGL
  PK       : [E2FA0E21390A8D68C0A80116]
  companyID: [1871]
  symbol   : [CNGL]
  name     : [China Nutrifruit Group Ltd]
  date     : [2015-06-30 00:00:00]
  status   : [Delist]

/Marketocracy/bin/StockPriceFileChecker priceRunForCompanyID 1871
2012-04-16 (Mon) [4123]: O:0.4313 H:0.4489 L:0.4089 C:0.4388 V:21546 TSO:36125 A:0.4388 R:1.0000 CA:0.0000
2012-04-17 (Tue) [4124]: O:0.4400 H:0.4400 L:0.4089 C:0.4200 V:26277 TSO:36125 A:0.4200 R:1.0000 CA:0.0000
2012-04-18 (Wed) [4125]: O:0.4200 H:0.4399 L:0.4200 C:0.4200 V:14780 TSO:36125 A:0.4200 R:1.0000 CA:0.0000
2012-04-19 (Thu) [4126]: O:0.4200 H:0.4599 L:0.4100 C:0.4200 V:63340 TSO:36125 A:0.4200 R:1.0000 CA:0.0000
2012-04-20 (Fri) [4127]: O:0.4400 H:0.4598 L:0.4200 C:0.4201 V:59532 TSO:36125 A:0.4201 R:1.0000 CA:0.0000
2012-04-21 (Sat) [4128]: <WEEKEND>
2012-04-22 (Sun) [4129]: <WEEKEND>
2012-04-23 (Mon) [4130]: O:0.4300 H:0.4400 L:0.4000 C:0.4000 V:35960 TSO:36125 A:0.4000 R:1.0000 CA:0.0000
2012-04-24 (Tue) [4131]: O:0.3900 H:0.4100 L:0.3500 C:0.4000 V:43595 TSO:36125 A:0.4000 R:1.0000 CA:0.0000
2012-04-25 (Wed) [4132]: O:0.3800 H:0.3800 L:0.3700 C:0.3800 V:26917 TSO:36125 A:0.3800 R:1.0000 CA:0.0000
2012-04-26 (Thu) [4133]: O:0.3800 H:0.3800 L:0.3800 C:0.3800 V:26917 TSO:36125 A:0.3800 R:1.0000 CA:0.0000  <--- quantum last date
2012-04-27 (Fri) [4134]: O:0.3800 H:0.3800 L:0.3800 C:0.3800 V:26917 TSO:36125 A:0.3800 R:1.0000 CA:0.0000
2012-04-28 (Sat) [4135]: <WEEKEND>
2012-04-29 (Sun) [4136]: <WEEKEND>
2012-04-30 (Mon) [4137]: O:0.3800 H:0.3800 L:0.3800 C:0.3800 V:26917 TSO:36125 A:0.3800 R:1.0000 CA:0.0000
2012-05-01 (Tue) [4138]: O:0.3800 H:0.3800 L:0.3800 C:0.3800 V:26917 TSO:36125 A:0.3800 R:1.0000 CA:0.0000
2012-05-02 (Wed) [4139]: O:0.3800 H:0.3800 L:0.3800 C:0.3800 V:26917 TSO:36125 A:0.3800 R:1.0000 CA:0.0000
2012-05-03 (Thu) [4140]: O:0.3800 H:0.3800 L:0.3800 C:0.3800 V:26917 TSO:36125 A:0.3800 R:1.0000 CA:0.0000
...
2015-07-25 (Sat) [5318]: <WEEKEND>
2015-07-26 (Sun) [5319]: <WEEKEND>
2015-07-27 (Mon) [5320]: O:0.0100 H:0.0100 L:0.0100 C:0.0100 V:53700 TSO:36125 A:0.0100 R:1.0000 CA:0.0000
2015-07-28 (Tue) [5321]: O:0.0100 H:0.0100 L:0.0100 C:0.0100 V:53700 TSO:36125 A:0.0100 R:1.0000 CA:0.0000
2015-07-29 (Wed) [5322]: O:0.0100 H:0.0100 L:0.0100 C:0.0100 V:53700 TSO:36125 A:0.0100 R:1.0000 CA:0.0000

let's look at xignite
https://www.xignite.com/product/XigniteGlobalHistorical/api/GetGlobalHistoricalQuotesRange/
login credentials
jeff.saunders@marketocracy.com	KfabyZcbE3


GlobalQuotes Date	GlobalQuotes Last	GlobalQuotes Open	GlobalQuotes High	GlobalQuotes Low	GlobalQuotes Volume	GlobalQuotes LastClose
6/30/15	0.001	0.001	0.001	0.001	0	0.001

looks like it priced all the way to 6/30/15 according to xignite 






check the mtickets, look for the last filled one (with shares)
select * from mticket where stockkey=X'e2fa0e21390a8d68c0a80116' and shares > 0 order by closed; 
> Row 599:
>      ACTIONKEY = X'70593ca1391e0270c0a8015c'
>      BROKERKEY = X'2916149b39cd02dbc0a80117'
>         CLOSED = TIMESTAMP '2014-10-10 16:01:06.000000'
>        COMMENT = Bad News|
>     COMMISSION = 0.512500
>   CURRENTORDER = X'789d25125410a8bbc0a86f98'
>        LIFEKEY = X'70953ca1391e0272c0a8015c'
>           LOCK = 0
>     MANAGERKEY = X'895a2fc33a99b363c0a80118'
>       MODIFIED = NULL
>            NET = 9.737500
>         OPENED = TIMESTAMP '2014-09-10 15:38:35.000000'
>          PRICE = 0.009491
>     PRIMARYKEY = X'789b25125410a8bbc0a86f98'
>         SECFEE = 0.010000
>         SHARES = 1026.000000
>      STATUSKEY = X'708f3ca1391e0272c0a8015c'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>      SOURCEKEY = NULL
>    NOTIFYEMAIL = NULL


look for shorts in member's active, long funds
select fundkey from mposition where stockkey=X'e2fa0e21390a8d68c0a80116'  and totalshares < 0;
if there are some, then do this
select active, kindkey, primarykey, symbol from mfund where active=1 and kindkey= X'70443ca1391e026fc0a8015c' and primarykey in (select fundkey from mposition where stockkey=X'e2fa0e21390a8d68c0a80116'  and totalshares < 0);
> Row 1:
>       ACTIVE = 1
>      KINDKEY = X'70443ca1391e026fc0a8015c'
>   PRIMARYKEY = X'e737352051938e97c0a80146'
>       SYMBOL = JoeToms6

we have one short


now get the login names based on stockkey - fill in the stockkey
select loginname from mmanager where primarykey in (select managerkey from mportfolio where primarykey in (select portfoliokey from mfund where active=1 and kindkey= X'70443ca1391e026fc0a8015c' and primarykey in (select fundkey from mposition where stockkey=X'e2fa0e21390a8d68c0a80116'  and totalshares < 0)));
> Row 1:
>   LOGINNAME = teamfunds

log in as teamfunds and resolve the short
JoeToms6 - expand
LEDGER
Date	Start	Change	End	Type
Jan 05, 2010		75	75	Buy
Jan 06, 2010	75	151	226	Buy
Jan 08, 2010	226	1	227	Buy
Jun 24, 2010	227	-10	217	Sell
Mar 03, 2011	217	-231	-14	Sell  <-- only has 217 shares
Total: -14
 	 	 
 	 	
BUYS
Close Date	Quantity	Commission	Net	Price
Jan 5, 2010	75	$3.75	$314.16	$4.19
Jan 6, 2010	151	$7.55	$631.53	$4.18
Jan 8, 2010	1	$0.05	$4.57	$4.57
 	 	 
 	 	
SELLS
Close Date	Quantity	Commission	SEC Fee	Net	Price
Jun 24, 2010	10	$0.50	$0.01	$31.40	$3.14
Mar 3, 2011	231	$11.55	$0.02	$771.85	$3.34<-- only has 217 shares
 	 	 
/Marketocracy/Scripts/build/bin/backdatedtrade.py teamfunds JoeToms6 20110303 CNGL -217 3.36
Trading -217.0 shares of China Nutrifruit Group Ltd on Mar 03, 2011 at 3.36
manager login: teamfunds
manager: Marketocracy Team Funds
fund: JoeToms6
building trade (has to load stock prices first)
price = 3.36
selling -217.0 shares of CNGL at 3.36 on 20110303
invaldating fund prices from Mar 03, 2011
Done

check for shorts again


apply the acquis
delist:  2015-06-30  database applied  - no tickets though
there are 36 members who hold this stock
quantum:  NOTE: This security is no longer trading as of 4/26/12
last ticket: 2014-10-10  PRICE = 0.009491
last price:  looks like it priced all the way to 6/30/15 according to xignite  0.001

let's back out the delist and then do the acquis
select * from mstock where primarykey=X'e2fa0e21390a8d68c0a80116';
> Row 1:
>         IDENTITYKEY = X'd86840e355e892e9c0a86f92'
>                NAME = FIRETECTOR INC
>          PRIMARYKEY = X'e2fa0e21390a8d68c0a80116'
>              SYMBOL = FTEC
>           COMPANYID = 1871
>   WINDOWIDENTITYKEY = -1062731435:-249d7868:119cfa667e7:-6a93
update the identitykey
>     PRIMARYKEY = X'c0cd32e74fdbbb3ec0a80146'  <--- make this the identitykey
update mstock set IDENTITYKEY= X'c0cd32e74fdbbb3ec0a80146' where PRIMARYKEY = X'e2fa0e21390a8d68c0a80116';
delete the last mstockalias and mcorporateaction 

delete from mcorporateaction where PRIMARYKEY = X'd87f4f8455bc3053c0a86f92' ;
delete from mstockalias where PRIMARYKEY = X'd86840e355e892e9c0a86f92' ;

check again:
select * from mstockalias where stockkey=X'e2fa0e21390a8d68c0a80116' order by "date";
> Row 1:
>   CAPSECTORKEY = NULL
>          CUSIP = 316092808
>           DATE = TIMESTAMP '2000-04-29 15:00:00.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = FIRETECTOR INC
>     PRIMARYKEY = X'e2fb0e21390a8d68c0a80116'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = FTEC
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 2:
>   CAPSECTORKEY = NULL
>          CUSIP = 318319605
>           DATE = TIMESTAMP '2002-05-24 00:00:00.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = FIRETECTOR INC
>     PRIMARYKEY = X'1a7027413ceef4c6c0a801dc'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = SYNX
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 3:
>   CAPSECTORKEY = NULL
>          CUSIP = 318319605
>           DATE = TIMESTAMP '2002-05-24 00:00:01.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = SYNERGX Systems Inc
>     PRIMARYKEY = X'3ebb28fa3ceef74cc0a801dc'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = SYNX
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 4:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2002-05-24 00:00:02.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = SYNERGX Systems Inc
>     PRIMARYKEY = X'ff3229d53ceef82cc0a801dc'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = SYNX
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 5:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2008-06-20 00:00:00.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = SYNERGX Systems Inc
>     PRIMARYKEY = X'0c6f550c485c6118c0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = FHTI
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 6:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2008-06-20 00:00:01.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = SYNERGX Systems Inc
>     PRIMARYKEY = X'87235538485c6172c0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = FHTI
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 7:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2008-08-25 00:00:00.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = SYNERGX Systems Inc
>     PRIMARYKEY = X'0645409048b3640dc0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 8:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2008-08-25 00:00:01.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'095d40b248b36457c0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 9:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2008-08-25 00:00:02.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'f39940cc48b3646ac0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 10:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2009-08-17 00:00:00.000000'
>    EXCHANGEKEY = X'6325039339e7e926c0a801dc'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'b7df1a624a89c5bac0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 11:
>   CAPSECTORKEY = NULL
>          CUSIP = 16944U108
>           DATE = TIMESTAMP '2009-08-27 00:00:00.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'0f6216534a96f4bec0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 30202030
>       STYLEKEY = XV
> Row 12:
>   CAPSECTORKEY = NULL
>          CUSIP = 16944U108
>           DATE = TIMESTAMP '2012-06-15 00:00:00.000000'
>    EXCHANGEKEY = X'6325039339e7e926c0a801dc'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'c0cd32e74fdbbb3ec0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 30202030
>       STYLEKEY = XV

going with looks like it priced all the way to 6/30/15 according to xignite  0.001

/Marketocracy/bin/cahelper -symbol  CNGL  -effective 20150630 -type ACQUIS -exchange UN -acqType 1 -acqCash 0.001 -acqShare 0 -purchaser CNGL   >& /Users/build/caout/CNGL.20150930-DELIST.out 
stocks1:~/caout build$ tail -f CNGL.20150930-DELIST.out
D: (09-30 15:41:55.001) Install Tiger valueForKey: hack for NSArray and NSSet
D: (09-30 15:42:18.340) cahelper started on 2015-09-30 15:42:18 -0400

D: (09-30 15:42:18.520) There are [0] open tickets for CNGL on 20150630
D: (09-30 15:42:19.908) StockFileLoad Version:4.0
D: (09-30 15:42:19.908) Loading Stock Data
D: (09-30 15:42:55.901) Building Lookup Index
D: (09-30 15:43:01.236) Finished Building Index
D: (09-30 15:43:05.055) Finished Loading Stock Data
D: (09-30 15:43:05.325) Connection to 192.168.111.172:6666 succeeded
D: (09-30 15:43:08.502) {
    "ACQUIRED_STOCK" = CNGL; 
    "ACQUIRING_STOCK" = "CNGL_FIX"; 
    AMOUNT = 0.001; 
    APPLIED = 1; 
    DATE = 20150630; 
    NOTES = " "; 
    PAYOUT = "CASH PER SHARE"; 
    SYMBOL = "CNGL_FIX"; 
    "TRANSACTION_TYPE" = REGULAR; 
    TYPE = ACQUIS; 
}
D: (09-30 15:43:13.444) SUCCESS
D: (09-30 15:43:13.444) cahelper finished 2015-09-30 15:43:13 -0400

Check the results 
select * from mstockalias where stockkey= X'e2fa0e21390a8d68c0a80116'  order by "date";
> Row 1:
>   CAPSECTORKEY = NULL
>          CUSIP = 316092808
>           DATE = TIMESTAMP '2000-04-29 15:00:00.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = FIRETECTOR INC
>     PRIMARYKEY = X'e2fb0e21390a8d68c0a80116'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = FTEC
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 2:
>   CAPSECTORKEY = NULL
>          CUSIP = 318319605
>           DATE = TIMESTAMP '2002-05-24 00:00:00.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = FIRETECTOR INC
>     PRIMARYKEY = X'1a7027413ceef4c6c0a801dc'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = SYNX
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 3:
>   CAPSECTORKEY = NULL
>          CUSIP = 318319605
>           DATE = TIMESTAMP '2002-05-24 00:00:01.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = SYNERGX Systems Inc
>     PRIMARYKEY = X'3ebb28fa3ceef74cc0a801dc'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = SYNX
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 4:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2002-05-24 00:00:02.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = SYNERGX Systems Inc
>     PRIMARYKEY = X'ff3229d53ceef82cc0a801dc'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = SYNX
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 5:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2008-06-20 00:00:00.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = SYNERGX Systems Inc
>     PRIMARYKEY = X'0c6f550c485c6118c0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = FHTI
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 6:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2008-06-20 00:00:01.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = SYNERGX Systems Inc
>     PRIMARYKEY = X'87235538485c6172c0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = FHTI
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 7:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2008-08-25 00:00:00.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = SYNERGX Systems Inc
>     PRIMARYKEY = X'0645409048b3640dc0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 8:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2008-08-25 00:00:01.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'095d40b248b36457c0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 9:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2008-08-25 00:00:02.000000'
>    EXCHANGEKEY = X'9d5d2f1d390a440bc0a8015c'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'f39940cc48b3646ac0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 10:
>   CAPSECTORKEY = NULL
>          CUSIP = 87160C106
>           DATE = TIMESTAMP '2009-08-17 00:00:00.000000'
>    EXCHANGEKEY = X'6325039339e7e926c0a801dc'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'b7df1a624a89c5bac0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 45203010
>       STYLEKEY = XV
> Row 11:
>   CAPSECTORKEY = NULL
>          CUSIP = 16944U108
>           DATE = TIMESTAMP '2009-08-27 00:00:00.000000'
>    EXCHANGEKEY = X'9d592f1d390a440bc0a8015c'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'0f6216534a96f4bec0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 30202030
>       STYLEKEY = XV
> Row 12:
>   CAPSECTORKEY = NULL
>          CUSIP = 16944U108
>           DATE = TIMESTAMP '2012-06-15 00:00:00.000000'
>    EXCHANGEKEY = X'6325039339e7e926c0a801dc'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'c0cd32e74fdbbb3ec0a80146'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'634a039339e7e928c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 30202030
>       STYLEKEY = XV
> Row 13:
>   CAPSECTORKEY = NULL
>          CUSIP = 16944U108
>           DATE = TIMESTAMP '2015-06-30 00:00:00.000000'
>    EXCHANGEKEY = X'6325039339e7e926c0a801dc'
>           NAME = China Nutrifruit Group Ltd
>     PRIMARYKEY = X'f30543d2560c3b1ac0a86fab'
>       STOCKKEY = X'e2fa0e21390a8d68c0a80116'
>         SYMBOL = CNGL
>      STATUSKEY = X'6347039339e7e927c0a801dc'
>      CSISYMBOL = NULL
>        GICSKEY = 30202030
>       STYLEKEY = XV

select * from mcorporateaction where aliaskey =X'f30543d2560c3b1ac0a86fab' ;
> Row 1:
>              ALIASKEY = X'f30543d2560c3b1ac0a86fab'
>   BB_ACTIONDICTIONARY = CP_FLAG|1|CP_TKR|CNGL  US|CP_NAME| |CP_ID_BB_COMP|7228015|CP_UNIT|N.A.|CP_TOT_AMT|N.A.|CP_TYP|1|CP_CASH|0.001000|CP_CASH_FLAG|1|CP_SH|0.000000|CP_SH_FLAG|N.A.|CP_DEBT|N.A.|CP_DEBT_FLAG|N.A.|CP_STAT|3|CP_DT_FLAG|0|CP_INIT_OFFER_PREMIUM|N.A.|CP_CUR_PREM|0.000000|CP_PCT_OWNED|N.A.|CP_PCT_SOUGHT|100.000000|CP_ACCT_METHOD|0|CP_UNSOLICITED|9|CP_DETAIL_FLAG|0|CP_CRNCY|USD|CP_CASH_VAL|0.000000|CP_ARBITRAGE_PROF|N.A.|CP_CUR_TOT_VAL|0.000000|CP_ADVISORS_NUM|0|CP_ADVISORS|N.A.|CP_NOTES| |
>         BB_ACTIONFLAG = 0
>           BB_ACTIONID = 20150930:034218
>     BB_ACTIONMNEMONIC = ACQUIS
>          BB_COMPANYID = 0
>        BB_COMPANYNAME = 0
>           BB_CURRENCY = USD
>          BB_EFFECTIVE = TIMESTAMP '2015-06-30 00:00:00.000000'
>         BB_IDENTIFIER = CNGL_FIX     UN Equity
>             BB_ISSUED = TIMESTAMP '2015-06-30 00:00:00.000000'
>          BB_NUMFIELDS = NULL
>              BB_RCODE = 0
>              BB_SECID = CNGL_FIX
>          BB_SECIDTYPE = TKR
>         BB_SECURITYID = 0
>            BB_UPDATED = TIMESTAMP '2015-06-30 00:00:00.000000'
>            PRIMARYKEY = X'f2ff43d2560c3b1ac0a86fab'
>               VERSION = NULL


select count(*) from mticket where sourcekey = X'f2ff43d2560c3b1ac0a86fab';
> Row 1:
>   _C001 = 57.000000
select distinct fundkey from mposition where primarykey in (select positionkey from mtrade where ticketkey in (select primarykey from mticket where sourcekey = X'f2ff43d2560c3b1ac0a86fab'));
there are 57 fundkeys, save to CA issues CNGL fundkeys.txt

For Beta case
CNGL no longer trades but is still active on our site - need to delist 

check on 10/1/15   invalidate funds
check MAdmin

check that the stock is delisted, check MAdmin for 0 shares
member mkoza TGF fund as not pricing he has 10058 shares  check that they got taken
10058 * 0.001 = 10.058  minimal

tried masterscope it died


